version: "3.8"

services:
  logstash:
    build:
      context: .
    container_name: elk_logstash
    environment:
      - LS_JAVA_OPTS=-Xms256m -Xmx256m
      - LOG_LEVEL=warn
      - xpack.monitoring.enabled=false
    ports:
      - "5044:5044"  # entrada Beats (Filebeat/Winlogbeat)
      - "9600:9600"  # API do Logstash (n√£o exponha externamente)
    networks:
      - elk_net
    restart: unless-stopped

networks:
  elk_net:
    external: true
